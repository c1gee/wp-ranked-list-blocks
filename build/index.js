(()=>{"use strict";var e,l={218(){const e=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,t=window.wp.components,s=window.wp.data,i=window.wp.element,n=window.ReactJSXRuntime,o=[{label:(0,l.__)("Product","wp-ranked-list-blocks"),value:"Product"},{label:(0,l.__)("Software Application","wp-ranked-list-blocks"),value:"SoftwareApplication"},{label:(0,l.__)("Platform","wp-ranked-list-blocks"),value:"Platform"},{label:(0,l.__)("Place","wp-ranked-list-blocks"),value:"Place"},{label:(0,l.__)("Local Business","wp-ranked-list-blocks"),value:"LocalBusiness"},{label:(0,l.__)("Restaurant","wp-ranked-list-blocks"),value:"Restaurant"},{label:(0,l.__)("Book","wp-ranked-list-blocks"),value:"Book"},{label:(0,l.__)("Movie","wp-ranked-list-blocks"),value:"Movie"},{label:(0,l.__)("Creative Work","wp-ranked-list-blocks"),value:"CreativeWork"},{label:(0,l.__)("Podcast Series","wp-ranked-list-blocks"),value:"PodcastSeries"},{label:(0,l.__)("Podcast Episode","wp-ranked-list-blocks"),value:"PodcastEpisode"}],r=[{label:"GBP (£)",value:"GBP"},{label:"USD ($)",value:"USD"},{label:"EUR (€)",value:"EUR"}],d=["Product","SoftwareApplication"],c=["Place","LocalBusiness","Restaurant"],p=["Book","Movie","CreativeWork"],k=["PodcastSeries","PodcastEpisode"],_=JSON.parse('{"UU":"wcg/ranked-list-block"}');(0,e.registerBlockType)(_.UU,{edit:function({attributes:e,setAttributes:_,clientId:b}){const{schemaType:u,title:m,subtitle:h,description:w,url:v,urlButtonText:x,imageUrl:g,imageId:C,imageAlt:j,heroImageUrl:T,heroImageId:P,heroImageAlt:y,price:N,currency:f,ratingValue:B,reviewCount:R,address:S,telephone:U,author:O,datePublished:I,alternateName:A,sameAs:D}=e,[M,E]=(0,i.useState)(!1),L=(0,s.useSelect)(e=>{const{getBlockOrder:l,getBlockName:a,getBlockRootClientId:t}=e("core/block-editor"),s=l(t(b));let i=0;for(const e of s)if("wcg/ranked-list-block"===a(e)&&(i++,e===b))return i;return i},[b]),V=(0,i.useMemo)(()=>{const e=[];return m||e.push((0,l.__)("Title is required.","wp-ranked-list-blocks")),v&&!/^https?:\/\/.+/.test(v)&&e.push((0,l.__)("URL must be a valid address starting with http:// or https://.","wp-ranked-list-blocks")),B&&(parseFloat(B)<0||parseFloat(B)>5)&&e.push((0,l.__)("Rating value must be between 0 and 5.","wp-ranked-list-blocks")),R&&(!Number.isInteger(Number(R))||Number(R)<0)&&e.push((0,l.__)("Review count must be a positive integer.","wp-ranked-list-blocks")),N&&isNaN(parseFloat(N))&&e.push((0,l.__)("Price must be a valid number.","wp-ranked-list-blocks")),e},[m,v,B,R,N]),Y=(0,a.useBlockProps)({className:"ranked-list-item-editor"}),z=d.includes(u),F=c.includes(u),W=p.includes(u),G=k.includes(u),q=W||G,J="Platform"===u;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.BlockControls,{children:(0,n.jsx)(t.ToolbarGroup,{children:(0,n.jsx)(t.ToolbarDropdownMenu,{icon:"tag",label:(0,l.__)("Schema Type","wp-ranked-list-blocks"),controls:o.map(e=>({title:e.label,isActive:u===e.value,onClick:()=>_({schemaType:e.value})}))})})}),(0,n.jsxs)(a.InspectorControls,{children:[(0,n.jsx)(t.PanelBody,{title:(0,l.__)("Schema Type","wp-ranked-list-blocks"),initialOpen:!0,children:(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Type","wp-ranked-list-blocks"),value:u,options:o,onChange:e=>_({schemaType:e}),help:(0,l.__)("Select the schema.org type for this item.","wp-ranked-list-blocks")})}),J&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Platform (meta)","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Alternative Name","wp-ranked-list-blocks"),value:A,onChange:e=>_({alternateName:e}),help:(0,l.__)("Optional. Schema.org alternateName.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Same As","wp-ranked-list-blocks"),value:D,onChange:e=>_({sameAs:e}),placeholder:"https://…",help:(0,l.__)("Optional. One or more URLs, comma-separated. Schema.org sameAs.","wp-ranked-list-blocks")})]}),z&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Product Details","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Price","wp-ranked-list-blocks"),value:N,onChange:e=>_({price:e}),type:"number",step:"0.01",min:"0",help:(0,l.__)("Product price value.","wp-ranked-list-blocks")}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Currency","wp-ranked-list-blocks"),value:f,options:r,onChange:e=>_({currency:e})}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Rating Value","wp-ranked-list-blocks"),value:B,onChange:e=>_({ratingValue:e}),type:"number",step:"0.1",min:"0",max:"5",help:(0,l.__)("Rating between 0 and 5.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Review Count","wp-ranked-list-blocks"),value:R,onChange:e=>_({reviewCount:e}),type:"number",min:"0",step:"1",help:(0,l.__)("Total number of reviews.","wp-ranked-list-blocks")})]}),F&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Location Details","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Address","wp-ranked-list-blocks"),value:S,onChange:e=>_({address:e}),help:(0,l.__)("Full street address.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Telephone","wp-ranked-list-blocks"),value:U,onChange:e=>_({telephone:e}),help:(0,l.__)("Contact phone number.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Rating Value","wp-ranked-list-blocks"),value:B,onChange:e=>_({ratingValue:e}),type:"number",step:"0.1",min:"0",max:"5",help:(0,l.__)("Rating between 0 and 5.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Review Count","wp-ranked-list-blocks"),value:R,onChange:e=>_({reviewCount:e}),type:"number",min:"0",step:"1",help:(0,l.__)("Total number of reviews.","wp-ranked-list-blocks")})]}),q&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)(G?"Podcast Details":"Creative Work Details","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Author / Creator","wp-ranked-list-blocks"),value:O,onChange:e=>_({author:e}),help:(0,l.__)("Name of the author or creator.","wp-ranked-list-blocks")}),(0,n.jsxs)("div",{className:"ranked-list-item-date-field",children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Date Published","wp-ranked-list-blocks"),value:I,onChange:e=>_({datePublished:e}),help:(0,l.__)("Publication date (YYYY-MM-DD).","wp-ranked-list-blocks"),placeholder:"YYYY-MM-DD"}),(0,n.jsx)(t.Button,{variant:"secondary",onClick:()=>E(!M),size:"small",children:(0,l.__)("Pick date","wp-ranked-list-blocks")}),M&&(0,n.jsx)(t.Popover,{onClose:()=>E(!1),children:(0,n.jsx)(t.DatePicker,{currentDate:I||void 0,onChange:e=>{_({datePublished:e.split("T")[0]}),E(!1)}})})]}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Rating Value","wp-ranked-list-blocks"),value:B,onChange:e=>_({ratingValue:e}),type:"number",step:"0.1",min:"0",max:"5",help:(0,l.__)("Rating between 0 and 5.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Review Count","wp-ranked-list-blocks"),value:R,onChange:e=>_({reviewCount:e}),type:"number",min:"0",step:"1",help:(0,l.__)("Total number of reviews.","wp-ranked-list-blocks")})]})]}),(0,n.jsxs)("div",{...Y,children:[(0,n.jsx)("div",{className:"ranked-list-item-editor__position",children:L}),(0,n.jsx)("span",{className:"ranked-list-item-editor__badge",children:u}),V.length>0&&(0,n.jsx)("div",{className:"ranked-list-item-editor__warnings",children:V.map((e,l)=>(0,n.jsx)(t.Notice,{status:"warning",isDismissible:!1,children:e},l))}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__hero",children:[(0,n.jsx)("label",{className:"components-base-control__label",children:(0,l.__)("Image (optional, full width)","wp-ranked-list-blocks")}),(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:e=>_({heroImageUrl:e.url,heroImageId:e.id,heroImageAlt:e.alt||""}),allowedTypes:["image"],value:P,render:({open:e})=>T?(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-preview",children:[(0,n.jsx)("img",{src:T,alt:y}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-actions",children:[(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Replace","wp-ranked-list-blocks")}),(0,n.jsx)(t.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>_({heroImageUrl:"",heroImageId:0,heroImageAlt:""}),size:"small",children:(0,l.__)("Remove","wp-ranked-list-blocks")})]})]}):(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Select image","wp-ranked-list-blocks")})})})]}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__image",children:[(0,n.jsx)("label",{className:"components-base-control__label",children:(0,l.__)("Logo","wp-ranked-list-blocks")}),(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:e=>_({imageUrl:e.url,imageId:e.id,imageAlt:e.alt||""}),allowedTypes:["image"],value:C,render:({open:e})=>g?(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-preview",children:[(0,n.jsx)("img",{src:g,alt:j}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-actions",children:[(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Replace","wp-ranked-list-blocks")}),(0,n.jsx)(t.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>_({imageUrl:"",imageId:0,imageAlt:""}),size:"small",children:(0,l.__)("Remove","wp-ranked-list-blocks")})]})]}):(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Upload Logo","wp-ranked-list-blocks")})})})]}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__fields",children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Title","wp-ranked-list-blocks"),value:m,onChange:e=>_({title:e}),placeholder:(0,l.__)("Enter title (required)","wp-ranked-list-blocks"),className:"ranked-list-item-editor__title"}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Subtitle","wp-ranked-list-blocks"),value:h,onChange:e=>_({subtitle:e}),placeholder:(0,l.__)("Enter subtitle (optional)","wp-ranked-list-blocks")}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__description-wrap",children:[(0,n.jsx)("label",{className:"components-base-control__label",children:(0,l.__)("Description","wp-ranked-list-blocks")}),(0,n.jsx)(a.RichText,{tagName:"div",value:w,onChange:e=>_({description:e}),placeholder:(0,l.__)("Enter description","wp-ranked-list-blocks"),className:"ranked-list-item-editor__description",multiline:"p",allowedFormats:["core/bold","core/italic","core/link"]})]}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("URL","wp-ranked-list-blocks"),value:v,onChange:e=>_({url:e}),placeholder:"https://",type:"url"}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Button text","wp-ranked-list-blocks"),value:x,onChange:e=>_({urlButtonText:e}),placeholder:(0,l.__)("View site","wp-ranked-list-blocks"),help:(0,l.__)("Link button below title/subtitle. Opens in new window.","wp-ranked-list-blocks")})]})]})]})},save:()=>null})}},a={};function t(e){var s=a[e];if(void 0!==s)return s.exports;var i=a[e]={exports:{}};return l[e](i,i.exports,t),i.exports}t.m=l,e=[],t.O=(l,a,s,i)=>{if(!a){var n=1/0;for(c=0;c<e.length;c++){for(var[a,s,i]=e[c],o=!0,r=0;r<a.length;r++)(!1&i||n>=i)&&Object.keys(t.O).every(e=>t.O[e](a[r]))?a.splice(r--,1):(o=!1,i<n&&(n=i));if(o){e.splice(c--,1);var d=s();void 0!==d&&(l=d)}}return l}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,s,i]},t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={57:0,350:0};t.O.j=l=>0===e[l];var l=(l,a)=>{var s,i,[n,o,r]=a,d=0;if(n.some(l=>0!==e[l])){for(s in o)t.o(o,s)&&(t.m[s]=o[s]);if(r)var c=r(t)}for(l&&l(a);d<n.length;d++)i=n[d],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},a=globalThis.webpackChunkwp_ranked_list_blocks=globalThis.webpackChunkwp_ranked_list_blocks||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})();var s=t.O(void 0,[350],()=>t(218));s=t.O(s)})();