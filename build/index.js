(()=>{"use strict";var e,l={218(){const e=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,t=window.wp.components,s=window.wp.data,i=window.wp.element,n=window.ReactJSXRuntime,o=[{label:(0,l.__)("Product","wp-ranked-list-blocks"),value:"Product"},{label:(0,l.__)("Software Application","wp-ranked-list-blocks"),value:"SoftwareApplication"},{label:(0,l.__)("Platform","wp-ranked-list-blocks"),value:"Platform"},{label:(0,l.__)("Place","wp-ranked-list-blocks"),value:"Place"},{label:(0,l.__)("Local Business","wp-ranked-list-blocks"),value:"LocalBusiness"},{label:(0,l.__)("Restaurant","wp-ranked-list-blocks"),value:"Restaurant"},{label:(0,l.__)("Book","wp-ranked-list-blocks"),value:"Book"},{label:(0,l.__)("Movie","wp-ranked-list-blocks"),value:"Movie"},{label:(0,l.__)("Creative Work","wp-ranked-list-blocks"),value:"CreativeWork"}],r=[{label:"GBP (£)",value:"GBP"},{label:"USD ($)",value:"USD"},{label:"EUR (€)",value:"EUR"}],c=["Product","SoftwareApplication"],d=["Place","LocalBusiness","Restaurant"],p=["Book","Movie","CreativeWork"],k=JSON.parse('{"UU":"wcg/ranked-list-block"}');(0,e.registerBlockType)(k.UU,{edit:function({attributes:e,setAttributes:k,clientId:_}){const{schemaType:b,title:u,subtitle:m,description:h,url:w,urlButtonText:v,imageUrl:x,imageId:g,imageAlt:C,heroImageUrl:j,heroImageId:T,heroImageAlt:y,price:N,currency:f,ratingValue:P,reviewCount:B,address:R,telephone:U,author:O,datePublished:S,alternateName:I,sameAs:A}=e,[D,M]=(0,i.useState)(!1),L=(0,s.useSelect)(e=>{const{getBlockOrder:l,getBlockName:a,getBlockRootClientId:t}=e("core/block-editor"),s=l(t(_));let i=0;for(const e of s)if("wcg/ranked-list-block"===a(e)&&(i++,e===_))return i;return i},[_]),V=(0,i.useMemo)(()=>{const e=[];return u||e.push((0,l.__)("Title is required.","wp-ranked-list-blocks")),w&&!/^https?:\/\/.+/.test(w)&&e.push((0,l.__)("URL must be a valid address starting with http:// or https://.","wp-ranked-list-blocks")),P&&(parseFloat(P)<0||parseFloat(P)>5)&&e.push((0,l.__)("Rating value must be between 0 and 5.","wp-ranked-list-blocks")),B&&(!Number.isInteger(Number(B))||Number(B)<0)&&e.push((0,l.__)("Review count must be a positive integer.","wp-ranked-list-blocks")),N&&isNaN(parseFloat(N))&&e.push((0,l.__)("Price must be a valid number.","wp-ranked-list-blocks")),e},[u,w,P,B,N]),Y=(0,a.useBlockProps)({className:"ranked-list-item-editor"}),z=c.includes(b),E=d.includes(b),F=p.includes(b),W="Platform"===b;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.BlockControls,{children:(0,n.jsx)(t.ToolbarGroup,{children:(0,n.jsx)(t.ToolbarDropdownMenu,{icon:"tag",label:(0,l.__)("Schema Type","wp-ranked-list-blocks"),controls:o.map(e=>({title:e.label,isActive:b===e.value,onClick:()=>k({schemaType:e.value})}))})})}),(0,n.jsxs)(a.InspectorControls,{children:[(0,n.jsx)(t.PanelBody,{title:(0,l.__)("Schema Type","wp-ranked-list-blocks"),initialOpen:!0,children:(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Type","wp-ranked-list-blocks"),value:b,options:o,onChange:e=>k({schemaType:e}),help:(0,l.__)("Select the schema.org type for this item.","wp-ranked-list-blocks")})}),W&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Platform (meta)","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Alternative Name","wp-ranked-list-blocks"),value:I,onChange:e=>k({alternateName:e}),help:(0,l.__)("Optional. Schema.org alternateName.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Same As","wp-ranked-list-blocks"),value:A,onChange:e=>k({sameAs:e}),placeholder:"https://…",help:(0,l.__)("Optional. One or more URLs, comma-separated. Schema.org sameAs.","wp-ranked-list-blocks")})]}),z&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Product Details","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Price","wp-ranked-list-blocks"),value:N,onChange:e=>k({price:e}),type:"number",step:"0.01",min:"0",help:(0,l.__)("Product price value.","wp-ranked-list-blocks")}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Currency","wp-ranked-list-blocks"),value:f,options:r,onChange:e=>k({currency:e})}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Rating Value","wp-ranked-list-blocks"),value:P,onChange:e=>k({ratingValue:e}),type:"number",step:"0.1",min:"0",max:"5",help:(0,l.__)("Rating between 0 and 5.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Review Count","wp-ranked-list-blocks"),value:B,onChange:e=>k({reviewCount:e}),type:"number",min:"0",step:"1",help:(0,l.__)("Total number of reviews.","wp-ranked-list-blocks")})]}),E&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Location Details","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Address","wp-ranked-list-blocks"),value:R,onChange:e=>k({address:e}),help:(0,l.__)("Full street address.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Telephone","wp-ranked-list-blocks"),value:U,onChange:e=>k({telephone:e}),help:(0,l.__)("Contact phone number.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Rating Value","wp-ranked-list-blocks"),value:P,onChange:e=>k({ratingValue:e}),type:"number",step:"0.1",min:"0",max:"5",help:(0,l.__)("Rating between 0 and 5.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Review Count","wp-ranked-list-blocks"),value:B,onChange:e=>k({reviewCount:e}),type:"number",min:"0",step:"1",help:(0,l.__)("Total number of reviews.","wp-ranked-list-blocks")})]}),F&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Creative Work Details","wp-ranked-list-blocks"),initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Author / Creator","wp-ranked-list-blocks"),value:O,onChange:e=>k({author:e}),help:(0,l.__)("Name of the author or creator.","wp-ranked-list-blocks")}),(0,n.jsxs)("div",{className:"ranked-list-item-date-field",children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Date Published","wp-ranked-list-blocks"),value:S,onChange:e=>k({datePublished:e}),help:(0,l.__)("Publication date (YYYY-MM-DD).","wp-ranked-list-blocks"),placeholder:"YYYY-MM-DD"}),(0,n.jsx)(t.Button,{variant:"secondary",onClick:()=>M(!D),size:"small",children:(0,l.__)("Pick date","wp-ranked-list-blocks")}),D&&(0,n.jsx)(t.Popover,{onClose:()=>M(!1),children:(0,n.jsx)(t.DatePicker,{currentDate:S||void 0,onChange:e=>{k({datePublished:e.split("T")[0]}),M(!1)}})})]}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Rating Value","wp-ranked-list-blocks"),value:P,onChange:e=>k({ratingValue:e}),type:"number",step:"0.1",min:"0",max:"5",help:(0,l.__)("Rating between 0 and 5.","wp-ranked-list-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Review Count","wp-ranked-list-blocks"),value:B,onChange:e=>k({reviewCount:e}),type:"number",min:"0",step:"1",help:(0,l.__)("Total number of reviews.","wp-ranked-list-blocks")})]})]}),(0,n.jsxs)("div",{...Y,children:[(0,n.jsx)("div",{className:"ranked-list-item-editor__position",children:L}),(0,n.jsx)("span",{className:"ranked-list-item-editor__badge",children:b}),V.length>0&&(0,n.jsx)("div",{className:"ranked-list-item-editor__warnings",children:V.map((e,l)=>(0,n.jsx)(t.Notice,{status:"warning",isDismissible:!1,children:e},l))}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__hero",children:[(0,n.jsx)("label",{className:"components-base-control__label",children:(0,l.__)("Image (optional, full width)","wp-ranked-list-blocks")}),(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:e=>k({heroImageUrl:e.url,heroImageId:e.id,heroImageAlt:e.alt||""}),allowedTypes:["image"],value:T,render:({open:e})=>j?(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-preview",children:[(0,n.jsx)("img",{src:j,alt:y}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-actions",children:[(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Replace","wp-ranked-list-blocks")}),(0,n.jsx)(t.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>k({heroImageUrl:"",heroImageId:0,heroImageAlt:""}),size:"small",children:(0,l.__)("Remove","wp-ranked-list-blocks")})]})]}):(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Select image","wp-ranked-list-blocks")})})})]}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__image",children:[(0,n.jsx)("label",{className:"components-base-control__label",children:(0,l.__)("Logo","wp-ranked-list-blocks")}),(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:e=>k({imageUrl:e.url,imageId:e.id,imageAlt:e.alt||""}),allowedTypes:["image"],value:g,render:({open:e})=>x?(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-preview",children:[(0,n.jsx)("img",{src:x,alt:C}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__image-actions",children:[(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Replace","wp-ranked-list-blocks")}),(0,n.jsx)(t.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>k({imageUrl:"",imageId:0,imageAlt:""}),size:"small",children:(0,l.__)("Remove","wp-ranked-list-blocks")})]})]}):(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,size:"small",children:(0,l.__)("Upload Logo","wp-ranked-list-blocks")})})})]}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__fields",children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Title","wp-ranked-list-blocks"),value:u,onChange:e=>k({title:e}),placeholder:(0,l.__)("Enter title (required)","wp-ranked-list-blocks"),className:"ranked-list-item-editor__title"}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Subtitle","wp-ranked-list-blocks"),value:m,onChange:e=>k({subtitle:e}),placeholder:(0,l.__)("Enter subtitle (optional)","wp-ranked-list-blocks")}),(0,n.jsxs)("div",{className:"ranked-list-item-editor__description-wrap",children:[(0,n.jsx)("label",{className:"components-base-control__label",children:(0,l.__)("Description","wp-ranked-list-blocks")}),(0,n.jsx)(a.RichText,{tagName:"div",value:h,onChange:e=>k({description:e}),placeholder:(0,l.__)("Enter description","wp-ranked-list-blocks"),className:"ranked-list-item-editor__description",multiline:"p",allowedFormats:["core/bold","core/italic","core/link"]})]}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("URL","wp-ranked-list-blocks"),value:w,onChange:e=>k({url:e}),placeholder:"https://",type:"url"}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Button text","wp-ranked-list-blocks"),value:v,onChange:e=>k({urlButtonText:e}),placeholder:(0,l.__)("View site","wp-ranked-list-blocks"),help:(0,l.__)("Link button below title/subtitle. Opens in new window.","wp-ranked-list-blocks")})]})]})]})},save:()=>null})}},a={};function t(e){var s=a[e];if(void 0!==s)return s.exports;var i=a[e]={exports:{}};return l[e](i,i.exports,t),i.exports}t.m=l,e=[],t.O=(l,a,s,i)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,s,i]=e[d],o=!0,r=0;r<a.length;r++)(!1&i||n>=i)&&Object.keys(t.O).every(e=>t.O[e](a[r]))?a.splice(r--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=s();void 0!==c&&(l=c)}}return l}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,s,i]},t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={57:0,350:0};t.O.j=l=>0===e[l];var l=(l,a)=>{var s,i,[n,o,r]=a,c=0;if(n.some(l=>0!==e[l])){for(s in o)t.o(o,s)&&(t.m[s]=o[s]);if(r)var d=r(t)}for(l&&l(a);c<n.length;c++)i=n[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},a=globalThis.webpackChunkwp_ranked_list_blocks=globalThis.webpackChunkwp_ranked_list_blocks||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})();var s=t.O(void 0,[350],()=>t(218));s=t.O(s)})();